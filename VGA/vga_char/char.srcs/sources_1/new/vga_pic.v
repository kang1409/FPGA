`timescale 1ns / 1ns
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 2023/09/25 16:37:12
// Design Name: 
// Module Name: vga_pic
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module vga_pic(
    input wire clk,
    input wire rst,
    input wire [10:0] pi_x,
    input wire [10:0] pi_y,
    
    output reg [11:0] pi_data 
    );

    reg [255:0] char    [63:0] ;        //×Ö·ûÊý¾Ý
    reg     work_en; 
    parameter H_MAX = 11'd1688;
    parameter C_MAX = 11'd1066;
    parameter PI_X_MAX = 11'd1280;
    parameter PI_Y_MAX = 11'd1024;

    parameter   RED     = 12'hF80,
                ORANGE  = 12'hFC0,
                YELLOW  = 12'hFFE,
                GREEN   = 12'h07E,
                CYAN    = 12'h07F,
                BLUE    = 12'h01F,
                PURPPLE = 12'hF81,
                BLACK   = 12'h000,
                WHITE   = 12'hFFF,
                GRAY    = 12'hD69;

    always @(clk) begin
            char[0] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[1] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[2] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[3] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[4] <= 256'h000000000000000000000000000000000003C000000000000000000000000000;
            char[5] <= 256'h0000000000000000000000E0000000000001F000000000000000078000000000;
            char[6] <= 256'h0000000000000000000000FC000000000001F00000000000000007C000000000;
            char[7] <= 256'h000000003E0000000000007E000000000001E00000000000000003C000000000;
            char[8] <= 256'h00000007FF0000000000003F000000000000E00000000000000003C000000000;
            char[9] <= 256'h000001FFFF0000000000001F000000000000E00000000000000003C000000000;
            char[10] <= 256'h0003FFFFFE00000000000007000000000000E00000000000000003C000000000;
            char[11] <= 256'h0007FFFFE000000000000000000000000000E000000F8000000003C000000000;
            char[12] <= 256'h0000FFFE0000000000000000018000000000E000003FC000000003C000000000;
            char[13] <= 256'h00003C1F80000000000100000FE000000000E00071FFE000000003C000000000;
            char[14] <= 256'h00003E1F8000000000018003FFF800000000E0007FCFC000000003803F000000;
            char[15] <= 256'h00003F0F80000000000180FFC0FC00000000E000780F80000000038FFFC00000;
            char[16] <= 256'h00001F0F800000000003FFE001FE00000000E060380F0000000007FFFFE00000;
            char[17] <= 256'h00001E0F000000000003E00001FC00000000E7F8380E000000FFFFC00FE00000;
            char[18] <= 256'h00001E1F000000000007800003C000000000FFFC380C0000007FE38007E00000;
            char[19] <= 256'h00001E1F000000000007800007000000071FE0FC380C00000078038007C00000;
            char[20] <= 256'h00001E1F1FFC0000000F00000400000007FCE078381800000038038007800000;
            char[21] <= 256'h00001E3FFFFF0000000F0030000000000780E07838180000003803800F800000;
            char[22] <= 256'h00001FFFFFFF8000000E00380000000003C0E07838300000003803800F000000;
            char[23] <= 256'h038FFFFE001FC000000C003C0000000003C0E07038300000001C03FF0F000000;
            char[24] <= 256'h03FFFE1E000FE000000000380000000003C0E07038300000001C1FFF0F000000;
            char[25] <= 256'h03FF9E1E000FE000000000780000000001C0FF70381C0000001CFFF80E000000;
            char[26] <= 256'h01F81E1E000FC000000000700000000001C3FF70380E0000001C33801E000000;
            char[27] <= 256'h01F81E1E000F8000000000608000800001DFF87038070000001C03801C000000;
            char[28] <= 256'h00F81E1E000F8000000000E0E3FFF00001C0E07038078000000C03801C000000;
            char[29] <= 256'h00F83C1FE01F8000000000EFFFFFF80001C0E0703803C000000C03801C000000;
            char[30] <= 256'h00F83C1FFC1F000000003FFFFFFFF80000C0C0703803C000000E038038000000;
            char[31] <= 256'h00783C0FFC1F00001FFFFFF0E000000000C0C0703801E000000E038FB8000000;
            char[32] <= 256'h00787803FC1F00000FFFF180E000000000C0C0F03801E000000E0FFFF0000000;
            char[33] <= 256'h00787800001F000007E00301E000000000C0C0E03801E0000007FFF030000000;
            char[34] <= 256'h007CF000003E000000000301C000000000C0C0E03841E0000007E38020000000;
            char[35] <= 256'h007CE000003E000000000603C000000000E0CFE0383FE0000006038000000000;
            char[36] <= 256'h003DC000003E000000000603800000000063FFE0381FE0000000038000000000;
            char[37] <= 256'h003C0000003E0000000007C380000000007FE1C03807E0000000038000000000;
            char[38] <= 256'h003C0003F87E0000000000FF80000000007000803803C0000000038000010000;
            char[39] <= 256'h003C07FFFC7E00000000003F00000000006000003803C0000000038000010000;
            char[40] <= 256'h003FFFFFFE7C00000000000FC000000000000000380180000000038000030000;
            char[41] <= 256'h003FFFFFFFFC00000000001FE000000000000000380000000000038000030000;
            char[42] <= 256'h001C00000FFC00000000003CF80000000000000038000000000001C000030000;
            char[43] <= 256'h001C000007F80000000000F87E0000000000000038000000000001E000078000;
            char[44] <= 256'h0018000007F80000000001E03F0000000000000038000000000001F0000F8000;
            char[45] <= 256'h0000000007F00000000007C00FC000000000000038000000000000FE007FC000;
            char[46] <= 256'h0000000003E0000000001F0007E0000000000000380000000000007FFFFF8000;
            char[47] <= 256'h0000000003C000000000FC0003E0000000000000380000000000003FFFFE0000;
            char[48] <= 256'h0000000003C000000003800001F00000000000003800000000000007FFF00000;
            char[49] <= 256'h00000000038000000000000000F0000000000000300000000000000000000000;
            char[50] <= 256'h0000000000000000000000000070000000000000300000000000000000000000;
            char[51] <= 256'h0000000000000000000000000000000000000000300000000000000000000000;
            char[52] <= 256'h0000000000000000000000000000000000000000300000000000000000000000;
            char[53] <= 256'h0000000000000000000000000000000000000000300000000000000000000000;
            char[54] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[55] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[56] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[57] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[58] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[59] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[60] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[61] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[62] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
            char[63] <= 256'h0000000000000000000000000000000000000000000000000000000000000000;
    end

    always @(posedge clk or posedge rst ) begin
         if(rst == 1'b1)
            work_en <= 1'b0;
        else if(((pi_x >= 11'd800) && (pi_x < 11'd1056)) && ((pi_y >= 11'd500) && (pi_y <= 11'd564)))
            work_en <= 1'b1;
        else 
            work_en <= 1'b0;
    end
    
    always @(posedge clk or posedge clk ) begin
        if(rst == 1'b1)
            pi_data <= WHITE;
        else if(work_en == 1'b1)
            if(char[(pi_x - 11'd800)][(pi_y - 11'd500)] == 1'b1)
                pi_data <= BLACK;
            else 
                pi_data <= WHITE;
        else
            pi_data <= WHITE;
    end

endmodule
